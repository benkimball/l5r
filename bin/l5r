#!/usr/bin/env ruby

require 'l5r'
require 'highline/import'

o = L5r::Oracle.new

loop do
  begin
    cmd = ask "<%= color('L5R> ', :green) %>"
    case cmd
    when /l (.*+)/
      result = o.card_search $1
      say "#{result.length} result#{'s' if result.length != 1} found"
      result.each do |card|
        say card
      end
    when 'exit', 'quit'
      say "Goodbye"
      exit
    end
  rescue Interrupt
    say "\nGoodbye"
    exit
  end
end
